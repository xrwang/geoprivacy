'use strict';

var window = require('global/window');
var document = require('global/document');

var parseJSONPBrowser = function parseJSONPBrowser(hook, jsonp) {
	var val = void 0;
	var collect = function collect(_val) {
		val = _val;
	};

	window[hook] = collect;
	var script = document.createElement('script');
	script.innerText = jsonp;

	document.body.appendChild(script);
	// jsonp will be evaluated
	document.body.removeChild(script);

	return val;
};

module.exports = parseJSONPBrowser;