'use strict';

var _require = require('vm'),
    runInNewContext = _require.runInNewContext;

var parseJSONPNode = function parseJSONPNode(hook, jsonp) {
	var val = void 0;
	var collect = function collect(_val) {
		val = _val;
	};

	var ctx = Object.create(null);
	ctx[hook] = collect;
	runInNewContext(jsonp, ctx);

	return val;
};

module.exports = parseJSONPNode;